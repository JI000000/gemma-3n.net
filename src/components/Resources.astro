---
import { getLangFromUrl, useTranslations } from '../i18n/index.ts';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const resourceKeys = [
  {
    category: 'resources.category.download',
    items: [
      {
        title: 'resources.download.hf.title',
        description: 'resources.download.hf.desc',
        link: 'https://huggingface.co/models?search=gemma%203n',
        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 text-blue-500"><path d="M15.5 8.5 14 10l-2-2-2 2-1.5-1.5L4 15l2 2 2-2 2 2 1.5-1.5L14 15l2-2Z"/><path d="m20 15-2-2-1.5 1.5L18 16l2 2-4 4-4-4-4 4-4-4 2-2 1.5-1.5L6 15l-2 2-2-4 4-4 4 4 4-4 4 4Z"/></svg>`
      },
      {
        title: 'resources.download.ollama.title',
        description: 'resources.download.ollama.desc',
        link: 'https://ollama.com/library/gemma3n',
        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 text-blue-500"><path d="M12 8V4H8"/><rect width="16" height="12" x="4" y="8" rx="2"/><path d="M2 14h2"/><path d="M20 14h2"/><path d="M15 13v2"/><path d="M9 13v2"/></svg>`
      },
      {
        title: 'resources.download.lmstudio.title',
        description: 'resources.download.lmstudio.desc',
        link: 'https://lmstudio.ai/',
        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 text-blue-500"><rect width="18" height="18" x="3" y="3" rx="2"/><line x1="8" x2="16" y1="12" y2="12"/></svg>`
      }
    ]
  },
  {
    category: 'resources.category.api',
    items: [
      {
        title: 'resources.api.studio.title',
        description: 'resources.api.studio.desc',
        link: 'https://aistudio.google.com/app/prompts/new_chat?MODEL_NAME=gemma-3n-4b-it',
        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 text-blue-500"><path d="m12 14 4-4"/><path d="M3.34 19a10 10 0 1 1 17.32 0"/><path d="m12 20 4-4"/></svg>`
      },
      {
        title: 'resources.api.keras.title',
        description: 'resources.api.keras.desc',
        link: 'https://ai.google.dev/gemma/docs/get_started',
        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 text-blue-500"><path d="M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z"/><path d="M14 4c-4.5 0-7 3-7 7s2.5 7 7 7 7-3 7-7-2.5-7-7-7Z"/><path d="M13.5 5.5c1.1.5 2 1.5 2.5 2.5"/></svg>`
      },
      {
        title: 'resources.api.paper.title',
        description: 'resources.api.paper.desc',
        link: 'https://arxiv.org/abs/2503.19786',
        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 text-blue-500"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/><line x1="12" x2="12" y1="2" y2="12"/><line x1="18" x2="18" y1="2" y2="12"/><line x1="6" x2="6" y1="14" y2="14"/></svg>`
      }
    ]
  }
];
---

<section id="resources" class="py-20 bg-slate-50 dark:bg-slate-900/50">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-slate-900 dark:text-white">{t('resources.heading')}</h2>
      <p class="mt-2 text-lg text-slate-600 dark:text-gray-400">
        {t('resources.subtitle')}
      </p>
    </div>

    <div class="space-y-12">
      {resourceKeys.map(resourceGroup => (
        <div>
          <h3 class="text-2xl font-semibold text-slate-800 dark:text-slate-200 mb-6">{t(resourceGroup.category)}</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {resourceGroup.items.map(item => (
              <a href={item.link} target="_blank" rel="noopener noreferrer" class="block bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300">
                <div class="flex items-start gap-4">
                  <Fragment set:html={item.icon} />
                  <div>
                    <h4 class="font-bold text-lg text-slate-900 dark:text-white">{t(item.title)}</h4>
                    <p class="text-slate-500 dark:text-gray-400 mt-1">{t(item.description)}</p>
                  </div>
                </div>
              </a>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section> 