---
import { getLangFromUrl, useTranslations } from '../i18n';
import NewsletterSignup from './NewsletterSignup.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const currentYear = new Date().getFullYear();
const privacyPolicyUrl = lang === 'zh' ? '/zh/privacy' : '/privacy';
const termsOfServiceUrl = lang === 'zh' ? '/zh/terms' : '/terms';
---
<footer class="bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800">
  <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div class="space-y-4">
        <div class="flex items-center space-x-2">
          <img class="h-8 w-auto" src="/favicon.svg" alt="Gemma 3n Logo">
          <span class="text-xl font-bold text-gray-900 dark:text-white">Gemma-3n.net</span>
        </div>
        <p class="text-sm text-gray-500 dark:text-gray-400">
          {t('footer.independent')}
        </p>
      </div>
      <div class="md:ml-auto">
        <NewsletterSignup />
      </div>
    </div>
    <div class="mt-8 pt-8 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row justify-between items-center">
      <div class="flex space-x-6 order-1 sm:order-0 mt-4 sm:mt-0">
        <a href={privacyPolicyUrl} class="text-sm text-gray-500 hover:text-gray-900 dark:hover:text-white">
          {t('footer.privacy')}
        </a>
        <a href={termsOfServiceUrl} class="text-sm text-gray-500 hover:text-gray-900 dark:hover:text-white">
          {t('footer.terms')}
        </a>
      </div>
      <p class="text-sm text-gray-500 order-0 sm:order-1">&copy; {currentYear} gemma-3n.net. {t('footer.rights')}</p>
    </div>
  </div>
</footer> 